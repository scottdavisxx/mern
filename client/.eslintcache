[{"/Users/sd/code/mern/client/src/index.js":"1","/Users/sd/code/mern/client/src/reportWebVitals.js":"2","/Users/sd/code/mern/client/src/App.js":"3","/Users/sd/code/mern/client/src/components/screens/UserProfile.js":"4","/Users/sd/code/mern/client/src/components/screens/Signin.js":"5","/Users/sd/code/mern/client/src/components/screens/Profile.js":"6","/Users/sd/code/mern/client/src/components/navbar.js":"7","/Users/sd/code/mern/client/src/components/screens/Home.js":"8","/Users/sd/code/mern/client/src/components/screens/CreatePost.js":"9","/Users/sd/code/mern/client/src/components/screens/Signup.js":"10","/Users/sd/code/mern/client/src/reducers/userReducer.js":"11","/Users/sd/code/mern/client/src/components/screens/SubscribedUserPosts.js":"12"},{"size":500,"mtime":1616719050670,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1616719050671,"results":"15","hashOfConfig":"14"},{"size":1820,"mtime":1616815817717,"results":"16","hashOfConfig":"14"},{"size":4452,"mtime":1617076237157,"results":"17","hashOfConfig":"14"},{"size":2541,"mtime":1617164305602,"results":"18","hashOfConfig":"14"},{"size":3523,"mtime":1617164944251,"results":"19","hashOfConfig":"14"},{"size":1218,"mtime":1616815701122,"results":"20","hashOfConfig":"14"},{"size":6117,"mtime":1617079276535,"results":"21","hashOfConfig":"14"},{"size":2497,"mtime":1617074127525,"results":"22","hashOfConfig":"14"},{"size":3865,"mtime":1617164307026,"results":"23","hashOfConfig":"14"},{"size":452,"mtime":1617164878940,"results":"24","hashOfConfig":"14"},{"size":5861,"mtime":1616904462002,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1j7cmft",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"28"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"28"},"/Users/sd/code/mern/client/src/index.js",[],["54","55"],"/Users/sd/code/mern/client/src/reportWebVitals.js",[],"/Users/sd/code/mern/client/src/App.js",["56","57","58"],"import React, {useEffect, createContext, useReducer, useContext} from 'react';\nimport NavBar from './components/navbar';\nimport \"./App.css\"\nimport {BrowserRouter,Route, Switch, useHistory} from 'react-router-dom'\nimport Home from './components/screens/Home'\nimport Profile from './components/screens/Profile'\nimport Signin from './components/screens/Signin'\nimport Signup from './components/screens/Signup'\nimport CreatePost from './components/screens/CreatePost'\nimport {reducer,initalState} from './reducers/userReducer'\nimport UserProfile from './components/screens/UserProfile' \nimport SubscribedUserPosts from './components/screens/SubscribedUserPosts'\n\n export const UserContext = createContext()\n\n const Routing = ()=>{\n   const history = useHistory()\n   const {state,dispatch} = useContext(UserContext);\n   useEffect(()=>{\n    const user = JSON.parse(localStorage.getItem(\"USER\"));\n    if(user){\n      dispatch({type:\"USER\",payload:user})\n    } else {\n      // history.push('/signin')  This wasn't allowing me to visit user profiles\n    }\n   },[])\n   return(\n    <Switch>\n    <Route exact path='/'>\n    <Home />\n    </Route>\n    <Route path='/signup'>\n      <Signup />\n    </Route>\n    <Route path='/signin'>\n      <Signin />\n    </Route>\n    <Route exact path='/profile'>\n      <Profile />\n    </Route>\n    <Route path='/create'>\n      <CreatePost />\n    </Route>\n    <Route path='/profile/:userid'>\n      <UserProfile />\n    </Route>\n    <Route path='/myfollowingpost'>\n      <SubscribedUserPosts />\n    </Route>\n    </Switch>\n   )\n }\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initalState)\n  return (\n    <UserContext.Provider value={{state, dispatch}}>\n    <BrowserRouter>\n      <NavBar />\n      <Routing />\n\n    </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;","/Users/sd/code/mern/client/src/components/screens/UserProfile.js",["59","60","61"],"/Users/sd/code/mern/client/src/components/screens/Signin.js",["62","63","64"],"/Users/sd/code/mern/client/src/components/screens/Profile.js",["65","66","67"],"/Users/sd/code/mern/client/src/components/navbar.js",[],"/Users/sd/code/mern/client/src/components/screens/Home.js",["68","69","70","71","72","73"],"/Users/sd/code/mern/client/src/components/screens/CreatePost.js",["74"],"import React, {useState, useEffect} from 'react'\nimport M from 'materialize-css'\nimport {useHistory} from 'react-router-dom'\n\n\n\nconst CreatePost = () => {\n  const history = useHistory()\n  const [title, setTitle] = useState('')\n  const [body, setBody] = useState('')\n  const [image, setImage] = useState('')\n  const [url, setUrl] = useState('')\n  useEffect(()=>{\n    if(url){\n    fetch('/createpost',{\n      method:'post',\n      headers:{\n          \"Content-Type\":\"application/json\",\n          \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\n      },\n      body:JSON.stringify({\n          title,\n          body,\n          pic:url\n      })  \n   }).then(res=>res.json())\n   .then(data=>{\n      //  console.log(data);\n       if(data.error){\n           M.toast({html: data.error,classes:'#d50000 red accent-4'})\n       } else {\n           M.toast({html:'Created Post!',classes:'#76ff03 light-green accent-3'})\n           history.push('./')\n       }\n   }).catch(err=>{\n       console.log(err);\n   })\n  }\n  }, [url])\n\n\n  const postDetails = ()=>{\n    const data = new FormData()\n    data.append('file', image)\n    data.append('upload_preset', 'scottagram')\n    data.append('cloud_name', 'scottdavisxx')\n    fetch('https://api.cloudinary.com/v1_1/scottdavisxx/image/upload',{\n      method:'post',\n      body:data\n    })\n    .then(res=>res.json())\n    .then(data=>{\n      console.log(data)\n      setUrl(data.url)\n    })\n    .catch(err=>{\n      console.log(err)\n    })\n\n  }\n\n  return(\n    <div className='card input-filled'\n         style={{\n           margin: '30px auto',\n           maxWidth: '500px',\n           padding: '20px',\n           textAlign: 'center',\n         }}>\n      <input type='text' \n             placeholder='title'\n             value={title}\n             onChange={(e)=>setTitle(e.target.value)} />\n      <input type='text' \n             placeholder='body'\n             value={body}\n             onChange={(e)=>setBody(e.target.value)} />\n      <div className=\"file-field input-field\">\n      <div className=\"btn waves-effect waves-light blue darken\">\n        <span>Upload Image</span>\n        <input type=\"file\"\n               onChange={(e)=>setImage(e.target.files[0])}/>\n      </div>\n      <div className=\"file-path-wrapper\">\n        <input className=\"file-path validate\" type=\"text\"/>\n      </div>\n      </div>\n    <button className=\"btn waves-effect waves-light blue darken\"\n    onClick={()=>postDetails()}\n    >Submit Post</button>\n    </div>\n\n  )\n}\nexport default CreatePost","/Users/sd/code/mern/client/src/components/screens/Signup.js",["75","76","77"],"/Users/sd/code/mern/client/src/reducers/userReducer.js",["78","79","80","81"],"/Users/sd/code/mern/client/src/components/screens/SubscribedUserPosts.js",["82","83","84","85","86","87"],"import React,{useState, useEffect, useContext} from 'react'\nimport {UserContext} from '../../App'\nimport {Link} from 'react-router-dom'\n\nconst Home = ()=>{\n    const [data,setData] = useState([])\n    const {state,dispatch} = useContext(UserContext)\n    useEffect(()=>{\n        fetch('/getsubpost',{\n            headers:{\n                \"Authorization\":\"Bearer \" +localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result) \n            setData(result) \n        })\n    },[])\n\n    const likePost = (id)=>{\n        fetch('/like',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \" +localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            // console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const unlikePost = (id)=>{\n        fetch('/unlike',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \" +localStorage.getItem(\"jwt\")\n            },\n            body:JSON.stringify({\n                postId:id\n            })\n        }).then(res=>res.json())\n        .then(result=>{\n            // console.log(result)\n            const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }else{\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const makeComment = (text,postId)=>{\n         fetch('/comment',{\n             method:\"put\",\n             headers:{\n                 \"Content-Type\":\"application/json\",\n                 \"Authorization\":\"Bearer \" +localStorage.getItem(\"jwt\")\n             },\n             body:JSON.stringify({\n                 postId,\n                 text\n             })\n         }).then(res=>res.json())\n         .then(result=>{\n             console.log(result)\n             const newData = data.map(item=>{\n                if(item._id==result._id){\n                    return result\n                }else{\n                    return item\n                }\n            })\n            setData(newData)\n         }).catch(err=>{\n             console.log(err)\n         })\n    }\n\n    const deletePost = (postId)=>{\n        fetch(`/deletepost/${postId}`,{\n            method:\"delete\",\n            headers:{\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            console.log(result)\n            const newData = data.filter(item=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n        })\n    }\n\n    return(\n        <div className='home'>\n            {\n                data.map(item=>{\n                    return(\n                        <div className='card home-card' key={item._id}>\n                            <h5 style={{padding: \"5px\"}}><Link to={item.postedBy._id !== state._id ? \"/profile/\"+item.postedBy._id : \"/profile/\"}>{item.postedBy.name}</Link> {item.postedBy._id == state._id \n                            && <i className=\"material-icons\" style={{\n                                float:\"right\"\n                            }} \n                            onClick={()=>deletePost(item._id)}\n                            >delete</i>\n                            }</h5>\n                            <div className='card-image'>\n                                <img src={item.photo}/>\n                            </div>\n                            <div className='card-content'>\n                                <i className=\"material-icons\" style={{color: 'red'}}>favorite</i>\n                                {item.likes.includes(state._id)\n                                ? \n                                <i className=\"material-icons\"\n                                    onClick={()=>{unlikePost(item._id)}}\n                                >thumb_down</i>\n                                : \n                                <i className=\"material-icons\"\n                                    onClick={()=>{likePost(item._id)}}\n                                >thumb_up</i>\n                                }\n                                 \n                                <h6>{item.likes.length} likes</h6>\n                                <h6>{item.title}</h6>\n                                <p>{item.body}</p>\n                                {\n                                    item.comments.map(record=>{\n                                        return(\n                                            <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\n                                        )\n                                    })\n                                }\n                                <form onSubmit={(e)=>{\n                                    e.preventDefault()\n                                    makeComment(e.target[0].value,item._id)\n                                }}>\n                                <input type='text' placeholder='comment'/>\n                                </form>\n                            </div>\n                        </div>\n                    )\n                })\n   \n            }\n                 \n\n        )\n        </div>\n    )\n}\n\nexport default Home",{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":17,"column":10,"nodeType":"94","messageId":"95","endLine":17,"endColumn":17},{"ruleId":"92","severity":1,"message":"96","line":18,"column":11,"nodeType":"94","messageId":"95","endLine":18,"endColumn":16},{"ruleId":"97","severity":1,"message":"98","line":26,"column":6,"nodeType":"99","endLine":26,"endColumn":8,"suggestions":"100"},{"ruleId":"97","severity":1,"message":"101","line":22,"column":7,"nodeType":"99","endLine":22,"endColumn":9,"suggestions":"102"},{"ruleId":"103","severity":1,"message":"104","line":68,"column":80,"nodeType":"105","messageId":"106","endLine":68,"endColumn":82},{"ruleId":"107","severity":1,"message":"108","line":91,"column":17,"nodeType":"109","endLine":92,"endColumn":44},{"ruleId":"92","severity":1,"message":"96","line":7,"column":12,"nodeType":"94","messageId":"95","endLine":7,"endColumn":17},{"ruleId":"110","severity":1,"message":"111","line":13,"column":23,"nodeType":"112","messageId":"113","endLine":13,"endColumn":24,"suggestions":"114"},{"ruleId":"110","severity":1,"message":"111","line":13,"column":48,"nodeType":"112","messageId":"113","endLine":13,"endColumn":49,"suggestions":"115"},{"ruleId":"92","severity":1,"message":"116","line":6,"column":12,"nodeType":"94","messageId":"95","endLine":6,"endColumn":15},{"ruleId":"97","severity":1,"message":"117","line":39,"column":7,"nodeType":"99","endLine":39,"endColumn":14,"suggestions":"118"},{"ruleId":"107","severity":1,"message":"108","line":52,"column":25,"nodeType":"109","endLine":53,"endColumn":140},{"ruleId":"92","severity":1,"message":"119","line":7,"column":18,"nodeType":"94","messageId":"95","endLine":7,"endColumn":26},{"ruleId":"103","severity":1,"message":"120","line":34,"column":28,"nodeType":"105","messageId":"106","endLine":34,"endColumn":30},{"ruleId":"103","severity":1,"message":"120","line":60,"column":28,"nodeType":"105","messageId":"106","endLine":60,"endColumn":30},{"ruleId":"103","severity":1,"message":"120","line":87,"column":28,"nodeType":"105","messageId":"106","endLine":87,"endColumn":30},{"ruleId":"103","severity":1,"message":"120","line":121,"column":194,"nodeType":"105","messageId":"106","endLine":121,"endColumn":196},{"ruleId":"107","severity":1,"message":"108","line":132,"column":33,"nodeType":"109","endLine":132,"endColumn":56},{"ruleId":"97","severity":1,"message":"121","line":39,"column":6,"nodeType":"99","endLine":39,"endColumn":11,"suggestions":"122"},{"ruleId":"97","severity":1,"message":"123","line":17,"column":7,"nodeType":"99","endLine":17,"endColumn":12,"suggestions":"124"},{"ruleId":"110","severity":1,"message":"111","line":39,"column":23,"nodeType":"112","messageId":"113","endLine":39,"endColumn":24,"suggestions":"125"},{"ruleId":"110","severity":1,"message":"111","line":39,"column":48,"nodeType":"112","messageId":"113","endLine":39,"endColumn":49,"suggestions":"126"},{"ruleId":"103","severity":1,"message":"120","line":4,"column":18,"nodeType":"105","messageId":"106","endLine":4,"endColumn":20},{"ruleId":"103","severity":1,"message":"120","line":7,"column":18,"nodeType":"105","messageId":"106","endLine":7,"endColumn":20},{"ruleId":"103","severity":1,"message":"120","line":10,"column":19,"nodeType":"105","messageId":"106","endLine":10,"endColumn":21},{"ruleId":"103","severity":1,"message":"120","line":17,"column":19,"nodeType":"105","messageId":"106","endLine":17,"endColumn":21},{"ruleId":"92","severity":1,"message":"119","line":7,"column":18,"nodeType":"94","messageId":"95","endLine":7,"endColumn":26},{"ruleId":"103","severity":1,"message":"120","line":34,"column":28,"nodeType":"105","messageId":"106","endLine":34,"endColumn":30},{"ruleId":"103","severity":1,"message":"120","line":60,"column":28,"nodeType":"105","messageId":"106","endLine":60,"endColumn":30},{"ruleId":"103","severity":1,"message":"120","line":87,"column":28,"nodeType":"105","messageId":"106","endLine":87,"endColumn":30},{"ruleId":"103","severity":1,"message":"120","line":121,"column":194,"nodeType":"105","messageId":"106","endLine":121,"endColumn":196},{"ruleId":"107","severity":1,"message":"108","line":129,"column":33,"nodeType":"109","endLine":129,"endColumn":56},"no-native-reassign",["127"],"no-negated-in-lhs",["128"],"no-unused-vars","'history' is assigned a value but never used.","Identifier","unusedVar","'state' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["129"],"React Hook useEffect has a missing dependency: 'userid'. Either include it or remove the dependency array.",["130"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["131","132"],["133","134"],"'url' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'dispatch' and 'state'. Either include them or remove the dependency array.",["135"],"'dispatch' is assigned a value but never used.","Expected '===' and instead saw '=='.","React Hook useEffect has missing dependencies: 'body', 'history', and 'title'. Either include them or remove the dependency array.",["136"],"React Hook useEffect has a missing dependency: 'uploadFields'. Either include it or remove the dependency array.",["137"],["138","139"],["140","141"],"no-global-assign","no-unsafe-negation",{"desc":"142","fix":"143"},{"desc":"144","fix":"145"},{"messageId":"146","fix":"147","desc":"148"},{"messageId":"149","fix":"150","desc":"151"},{"messageId":"146","fix":"152","desc":"148"},{"messageId":"149","fix":"153","desc":"151"},{"desc":"154","fix":"155"},{"desc":"156","fix":"157"},{"desc":"158","fix":"159"},{"messageId":"146","fix":"160","desc":"148"},{"messageId":"149","fix":"161","desc":"151"},{"messageId":"146","fix":"162","desc":"148"},{"messageId":"149","fix":"163","desc":"151"},"Update the dependencies array to be: [dispatch]",{"range":"164","text":"165"},"Update the dependencies array to be: [userid]",{"range":"166","text":"167"},"removeEscape",{"range":"168","text":"169"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"170","text":"171"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"172","text":"169"},{"range":"173","text":"171"},"Update the dependencies array to be: [dispatch, image, state]",{"range":"174","text":"175"},"Update the dependencies array to be: [body, history, title, url]",{"range":"176","text":"177"},"Update the dependencies array to be: [uploadFields, url]",{"range":"178","text":"179"},{"range":"180","text":"169"},{"range":"181","text":"171"},{"range":"182","text":"169"},{"range":"183","text":"171"},[1052,1054],"[dispatch]",[697,699],"[userid]",[424,425],"",[424,424],"\\",[449,450],[449,449],[1198,1205],"[dispatch, image, state]",[1009,1014],"[body, history, title, url]",[487,492],"[uploadFields, url]",[1068,1069],[1068,1068],[1093,1094],[1093,1093]]